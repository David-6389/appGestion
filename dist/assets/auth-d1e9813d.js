import{s as c}from"./supabase-d30417d2.js";function o(t,n="info"){const s=document.getElementById("alertContainer");if(!s)return;const e=document.createElement("div");e.className=`alert alert-${n} alert-dismissible fade show`,e.innerHTML=`
        ${t}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    `,s.appendChild(e),setTimeout(()=>e.remove(),5e3)}const d=document.getElementById("login-form");d&&d.addEventListener("submit",async t=>{t.preventDefault();const n=document.getElementById("login-email").value,s=document.getElementById("login-password").value,{error:e}=await c.auth.signInWithPassword({email:n,password:s});e?o(`Error: ${e.message}`,"danger"):window.location.href="/index.html"});const l=document.getElementById("signup-form");l&&l.addEventListener("submit",async t=>{t.preventDefault();const n=document.getElementById("signup-email").value,s=document.getElementById("signup-password").value,{data:e,error:i}=await c.auth.signUp({email:n,password:s});i?o(`Error: ${i.message}`,"danger"):e.user&&e.user.identities&&e.user.identities.length===0?o("Este usuario ya existe. Intenta iniciar sesión.","warning"):(o("¡Registro exitoso! Revisa tu email para confirmar tu cuenta.","success"),setTimeout(()=>{window.location.href="/login.html"},3e3))});function m(){const t=document.getElementById("toggleLoginPassword"),n=document.getElementById("login-password");t&&n&&t.addEventListener("click",function(){a(n,t)});const s=document.getElementById("toggleSignupPassword"),e=document.getElementById("signup-password");s&&e&&s.addEventListener("click",function(){a(e,s)});const i=document.getElementById("toggleConfirmPassword"),r=document.getElementById("confirm-password");i&&r&&i.addEventListener("click",function(){a(r,i)})}function a(t,n){t.type==="password"?(t.type="text",n.innerHTML='<i class="bi bi-eye"></i>',n.setAttribute("aria-label","Ocultar contraseña")):(t.type="password",n.innerHTML='<i class="bi bi-eye-slash"></i>',n.setAttribute("aria-label","Mostrar contraseña"))}document.addEventListener("DOMContentLoaded",m);
//# sourceMappingURL=auth-d1e9813d.js.map
